<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <div id="view2"></div>
    <div id="view"></div>

    <script src="main2.js"></script>

    <script>

/*
        var page = draw(view, [
            ['text', '123'],
            ['div', [
                ['text', '456'],
                ['div', [
                    ['text', 'green text <><<<>>>']
                ]]
            ]]
        ])
*/

        function Component(view, inputs, outputs, redraw) {
            return function(parent) {
                var viewModel = draw(parent, view, inputs, outputs, redraw)
                return viewModel
            }
        }

        var ButtonComponent = Component(
            [
                ['button', [
                    ['text', '123']
                ]]
            ],

            ['text'],
            ['click'],

            function(text, click) {
                //console.log(this.view[0].element)
                this.view[0][0] = text
                //click(1)

                this.view[0].element.onclick = function() {
                    click()
                }
            }
        )

        var button = ButtonComponent(view)

        button.click = function(event) {
            //console.log('event:', event)
            alert('clicked')
        }

        button.text = 'Hi'

        /*setInterval(function() {
            button.text = Math.random()
        }, 1000)*/

/*
        function button(parent, text) {
            var buttonView = draw(parent, [
                ['button', [
                    ['text', text]
                ]]
            ])

            var style = buttonView[0].style
            style.padding = '10px 20px'
            style.outline = 'none'
            style.border = 'none'
            style.backgroundColor = '#aaa'

            return buttonView
        }*/
/*
        var page = draw(document.querySelector('#view'), [
            [ButtonComponent, ['text', 'argu']]
        ])
*/
        //page[0]

        //page[0][0] = 'rt'

        //page[0] = 'Hi'
        //page[1].style.color = 'red'
        //console.log(page[1][1].style.color)

        //page[1][1].style.color = 'green'
        //page[1][1][0] = 'Alexey'

        //page[1][0] = 'e'

        //setTimeout(() => page[0] = 'e', 1000)
    </script>
</body>
</html>